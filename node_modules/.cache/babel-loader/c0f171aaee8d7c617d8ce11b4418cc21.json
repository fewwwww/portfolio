{"remainingRequest":"/Users/msfew/portfolio/node_modules/thread-loader/dist/cjs.js!/Users/msfew/portfolio/node_modules/babel-loader/lib/index.js!/Users/msfew/portfolio/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/msfew/portfolio/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/msfew/portfolio/src/components/portfolio/terminal/pieces/present/Present.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/msfew/portfolio/src/components/portfolio/terminal/pieces/present/Present.vue","mtime":1615276825501},{"path":"/Users/msfew/portfolio/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/msfew/portfolio/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/msfew/portfolio/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/msfew/portfolio/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/msfew/portfolio/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/msfew/portfolio/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/msfew/portfolio/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/msfew/portfolio/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0iOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvbXNmZXcvcG9ydGZvbGlvL25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgUHJvbXB0IGZyb20gJy4uL3Byb21wdC9Qcm9tcHQnOwovKioKICogVGhpcyBjb21tYW5kIHJlcHJlc2VudHMgdGhlIHByZXNlbnQgb2YgdGhlIHRlcm1pbmFsLCB3YWl0aW5nIGZvciB0aGUgdXNlcidzCiAqIGlucHV0IHdpdGggYSBwcm9tcHQuCiAqLwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQcmVzZW50JywKICBjb21wb25lbnRzOiB7CiAgICBQcm9tcHQ6IFByb21wdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlYWN0aXZpdHlIYWNrOiAwLAogICAgICBjb21tYW5kOiAnJywKICAgICAgdHJhdmVyc2FsOiB7CiAgICAgICAgaW5kZXg6IDAsCiAgICAgICAgYmFja3VwOiAnJwogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoewogICAgLyoqCiAgICAgKiBHZXQgdGhlIHN0eWxlcyB0byBhcHBseSBvbiB0aGUgY29tbWFuZCBmaWVsZC4KICAgICAqIEByZXR1cm5zIHtPYmplY3R9IGFuIG1hcHBpbmcgb2YgQ1NTIHByb3BlcnRpZXMgYW5kIHZhbHVlcyB0byBhcHBseSBvbiB0aGUgZWxlbWVudAogICAgICovCiAgICBjb21tYW5kRmllbGRTdHlsZXM6IGZ1bmN0aW9uIGNvbW1hbmRGaWVsZFN0eWxlcygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAnLS1jaGFyYWN0ZXJzLWZpbGxlZCc6ICIiLmNvbmNhdCh0aGlzLmNvbW1hbmQubGVuZ3RoLCAiY2giKQogICAgICB9OwogICAgfSwKCiAgICAvKioKICAgICAqIEdldCB0aGUgc3R5bGVzIHRvIGFwcGx5IG9uIHRoZSBmYXV4IGNhcmV0LgogICAgICogQHJldHVybnMge09iamVjdH0gYW4gbWFwcGluZyBvZiBDU1MgcHJvcGVydGllcyBhbmQgdmFsdWVzIHRvIGFwcGx5IG9uIHRoZSBlbGVtZW50CiAgICAgKi8KICAgIGZhdXhDYXJldFN0eWxlczogZnVuY3Rpb24gZmF1eENhcmV0U3R5bGVzKCkgewogICAgICByZXR1cm4gewogICAgICAgICctLWNoYXJhY3RlcnMtZGlzcGxhY2VkJzogIiIuY29uY2F0KHRoaXMuY2FyZXRQb3NpdGlvbiAtIHRoaXMuY29tbWFuZC5sZW5ndGgsICJjaCIpCiAgICAgIH07CiAgICB9LAoKICAgIC8qKgogICAgICogR2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgY2FyZXQgaW4gdGhlIGNvbW1hbmQgaW5wdXQgZmllbGQuIFNpbmNlIHRoaXMgaXMKICAgICAqIGEgbm9uLXJlYWN0aXZlIHByb3BlcnR5LCBhbiBldmVyIGNoYW5naW5nIGRhdGEgdmFsdWUgYHJlYWN0aXZpdHlIYWNrYAogICAgICogaXMgYWNjZXNzZWQgaW5zaWRlLgogICAgICovCiAgICBjYXJldFBvc2l0aW9uOiBmdW5jdGlvbiBjYXJldFBvc2l0aW9uKCkgewogICAgICBpZiAoIXRoaXMucmVhY3Rpdml0eUhhY2spIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLiRyZWZzLmNvbW1hbmRGaWVsZC5zZWxlY3Rpb25TdGFydDsKICAgIH0KICB9LCBtYXBTdGF0ZSgncG9ydGZvbGlvJywgWydjdXJyZW50Tm9kZScsICdpbnRlcmFjdGlvbkhpc3RvcnknLCAnaXNQcm9jZXNzaW5nJ10pKSwKICB3YXRjaDogewogICAgLyoqCiAgICAgKiBXaGVuIGludGVyYWN0aW9uIGhpc3RvcnkgaXMgY2hhbmdlZCwgd2hpY2ggZXNzZW50aWFsbHkgbWVhbnMgYSBuZXcKICAgICAqIGludGVyYWN0aW9uIGhhcyBiZWVuIGFkZGVkLCBzY3JvbGwgdG8gdGhlIGJvdHRvbS4KICAgICAqLwogICAgaW50ZXJhY3Rpb25IaXN0b3J5OiBmdW5jdGlvbiBpbnRlcmFjdGlvbkhpc3RvcnkoKSB7CiAgICAgIHRoaXMuc2Nyb2xsVG9Db21tYW5kRmllbGQoKTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBXaGVuIHRoZSBwcm9jZXNzaW5nIHN0YXRlIG9mIHRoZSB0ZXJtaW5hbCBpcyBjaGFuZ2VkLCBlaXRoZXIgd2hlbgogICAgICogcHJvY2Vzc2luZyBzdGFydHMgb3IgZW5kcywgc2Nyb2xsIHRvIHRoZSBib3R0b20uCiAgICAgKi8KICAgIGlzUHJvY2Vzc2luZzogZnVuY3Rpb24gaXNQcm9jZXNzaW5nKCkgewogICAgICB0aGlzLnNjcm9sbFRvQ29tbWFuZEZpZWxkKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKHsKICAgIC8qKgogICAgICogR3JhYiBmb2N1cyBvbiB0aGUgY29tbWFuZCBpbnB1dCBmaWVsZCBmcm9tIHRoZSBkb2N1bWVudC4gQWxzbyBtb3ZlcyB0aGUKICAgICAqIGNhcmV0IHRvIHRoZSBlbmQgb2YgdGhlIGZpZWxkLgogICAgICovCiAgICB0YWtlRm9jdXM6IGZ1bmN0aW9uIHRha2VGb2N1cygpIHsKICAgICAgdGhpcy4kcmVmcy5jb21tYW5kRmllbGQuZm9jdXMoKTsKICAgICAgdGhpcy4kcmVmcy5jb21tYW5kRmllbGQuc2V0U2VsZWN0aW9uUmFuZ2UodGhpcy5jb21tYW5kLmxlbmd0aCwgdGhpcy5jb21tYW5kLmxlbmd0aCk7CiAgICAgIHRoaXMucmVhY3Rpdml0eUhhY2srKzsKICAgIH0sCgogICAgLyoqCiAgICAgKiBHaXZlIGF3YXkgdGhlIGZvY3VzIGZyb20gdGhlIGNvbW1hbmQgaW5wdXQgZmllbGQuCiAgICAgKi8KICAgIGxvc2VGb2N1czogZnVuY3Rpb24gbG9zZUZvY3VzKCkgewogICAgICB0aGlzLiRyZWZzLmNvbW1hbmRGaWVsZC5ibHVyKCk7CiAgICB9LAoKICAgIC8qKgogICAgICogQWNjZXNzIHRoZSBoaXN0b3J5IHN0YWNrIGJhY2t3YXJkcy4KICAgICAqLwogICAgdHJhdmVyc2VIaXN0b3J5VXA6IGZ1bmN0aW9uIHRyYXZlcnNlSGlzdG9yeVVwKCkgewogICAgICBpZiAodGhpcy50cmF2ZXJzYWwuaW5kZXggPT09IHRoaXMuaW50ZXJhY3Rpb25IaXN0b3J5Lmxlbmd0aCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMudHJhdmVyc2FsLmluZGV4ID09PSAwKSB7CiAgICAgICAgdGhpcy50cmF2ZXJzYWwuYmFja3VwID0gdGhpcy5jb21tYW5kOwogICAgICB9CgogICAgICB0aGlzLnRyYXZlcnNhbC5pbmRleCsrOwogICAgICB2YXIgaW5kZXggPSB0aGlzLmludGVyYWN0aW9uSGlzdG9yeS5sZW5ndGggLSB0aGlzLnRyYXZlcnNhbC5pbmRleDsKICAgICAgdGhpcy5jb21tYW5kID0gdGhpcy5pbnRlcmFjdGlvbkhpc3RvcnlbaW5kZXhdLmlucHV0LmNvbW1hbmQ7CiAgICB9LAoKICAgIC8qKgogICAgICogQWNjZXNzIHRoZSBoaXN0b3J5IHN0YWNrIGZvcndhcmRzLgogICAgICovCiAgICB0cmF2ZXJzZUhpc3RvcnlEb3duOiBmdW5jdGlvbiB0cmF2ZXJzZUhpc3RvcnlEb3duKCkgewogICAgICBpZiAodGhpcy50cmF2ZXJzYWwuaW5kZXggPT09IDApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMudHJhdmVyc2FsLmluZGV4LS07CgogICAgICBpZiAodGhpcy50cmF2ZXJzYWwuaW5kZXggPT09IDApIHsKICAgICAgICB0aGlzLmNvbW1hbmQgPSB0aGlzLnRyYXZlcnNhbC5iYWNrdXA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbnRlcmFjdGlvbkhpc3RvcnkubGVuZ3RoIC0gdGhpcy50cmF2ZXJzYWwuaW5kZXg7CiAgICAgICAgdGhpcy5jb21tYW5kID0gdGhpcy5pbnRlcmFjdGlvbkhpc3RvcnlbaW5kZXhdLmlucHV0LmNvbW1hbmQ7CiAgICAgIH0KICAgIH0sCgogICAgLyoqCiAgICAgKiBSZXNldCBoaXN0b3J5IHRyYXZlcnNhbCBpbiBib3RoIGRpcmVjdGlvbnMuCiAgICAgKi8KICAgIHJlc2V0VHJhdmVyc2FsOiBmdW5jdGlvbiByZXNldFRyYXZlcnNhbCgpIHsKICAgICAgdGhpcy50cmF2ZXJzYWwgPSB7CiAgICAgICAgaW5kZXg6IDAsCiAgICAgICAgYmFja3VwOiAnJwogICAgICB9OwogICAgfSwKCiAgICAvKioKICAgICAqIEF1dG9jb21wbGV0ZSB0aGUgY29tbWFuZCBiYXNlZCBvbiB0aGUgdGV4dCBlbnRlcmVkIHNvIGZhci4gSXQgcG9wdWxhdGVzCiAgICAgKiB0aGUgY29tbWFuZCBmaWVsZCBpZiBhbiB1bmFtYmlndW91cyBjb21wbGV0aW9uIGNhbiBiZSBtYWRlIGFuZCBpZiBub3QsCiAgICAgKiBkaXNwbGF5cyBhIGxpc3Qgb2YgcG9zc2libGUgY2hvaWNlcy4KICAgICAqLwogICAgYXV0b2NvbXBsZXRlQ29tbWFuZDogZnVuY3Rpb24gYXV0b2NvbXBsZXRlQ29tbWFuZCgpIHsKICAgICAgaWYgKHRoaXMuY29tbWFuZCA9PT0gJycpIHsKICAgICAgICB0aGlzLmNvbW1hbmQgPSAnaGVscCc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gVE9ETwogICAgICAgIGNvbnNvbGUubG9nKCdSZXF1ZXN0IHRvIGF1dG9jb21wbGV0ZTonLCB0aGlzLmNvbW1hbmQpOwogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICogU3VibWl0IHRoZSBjb21tYW5kIGZvciBwcm9jZXNzaW5nIGFuZCBjbGVhciB0aGUgaGlzdG9yeSBmaWVsZCBmb3IgdGhlCiAgICAgKiBuZXh0IGlucHV0LgogICAgICovCiAgICBzdWJtaXRDb21tYW5kOiBmdW5jdGlvbiBzdWJtaXRDb21tYW5kKCkgewogICAgICBpZiAodGhpcy5jb21tYW5kLnRyaW0oKSkgewogICAgICAgIHRoaXMucnVuQ29tbWFuZCh7CiAgICAgICAgICBjb21tYW5kOiB0aGlzLmNvbW1hbmQuc3Vic3RyaW5nKDApCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5jb21tYW5kID0gJyc7CiAgICAgICAgdGhpcy5yZXNldFRyYXZlcnNhbCgpOwogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICogQ2FuY2VsIHRoZSBleGVjdXRpb24gb2YgdGhlIGVudGVyZWQgY29tbWFuZCBhbmQgY2xlYXIgdGhlIGlucHV0IGZpZWxkLgogICAgICovCiAgICBjYW5jZWxDb21tYW5kOiBmdW5jdGlvbiBjYW5jZWxDb21tYW5kKCkgewogICAgICB0aGlzLmNvbW1hbmQgPSAnJzsKICAgICAgdGhpcy5yZXNldFRyYXZlcnNhbCgpOwogICAgfSwKCiAgICAvKioKICAgICAqIEhhbmRsZSBhIGtleXVwIGV2ZW50LgogICAgICogVGhpcyBpbnZvbHZlcyB1cGRhdGluZyB0aGUgZGF0YSB2YXJpYWJsZSBgcmVhY3Rpdml0eUhhY2tgLgogICAgICovCiAgICBwcm9jZXNzS2V5dXA6IGZ1bmN0aW9uIHByb2Nlc3NLZXl1cCgpIHsKICAgICAgdGhpcy5yZWFjdGl2aXR5SGFjaysrOwogICAgfSwKCiAgICAvKioKICAgICAqIEhhbmRsZSBhbiBpbnB1dCBldmVudC4KICAgICAqIFRoaXMgaW52b2x2ZXMgdXBkYXRpbmcgdGhlIGRhdGEgdmFyaWFibGUgYHJlYWN0aXZpdHlIYWNrYC4KICAgICAqLwogICAgcHJvY2Vzc0lucHV0OiBmdW5jdGlvbiBwcm9jZXNzSW5wdXQoKSB7CiAgICAgIHRoaXMucmVhY3Rpdml0eUhhY2srKzsKICAgIH0sCgogICAgLyoqCiAgICAgKiBIYW5kbGUgYSBjbGljayBldmVudC4KICAgICAqIFRoaXMgaW52b2x2ZXMgdXBkYXRpbmcgdGhlIGRhdGEgdmFyaWFibGUgYHJlYWN0aXZpdHlIYWNrYC4KICAgICAqLwogICAgcHJvY2Vzc0NsaWNrOiBmdW5jdGlvbiBwcm9jZXNzQ2xpY2soKSB7CiAgICAgIHRoaXMucmVhY3Rpdml0eUhhY2srKzsKICAgIH0sCgogICAgLyoqCiAgICAgKiBTY3JvbGwgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGVybWluYWwgdG8gc2hvdyB0aGUgY29tbWFuZCBmaWVsZC4KICAgICAqLwogICAgc2Nyb2xsVG9Db21tYW5kRmllbGQ6IGZ1bmN0aW9uIHNjcm9sbFRvQ29tbWFuZEZpZWxkKCkgewogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxJbnRvVmlldyh7CiAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcsCiAgICAgICAgICBibG9jazogJ2VuZCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgbWFwQWN0aW9ucygncG9ydGZvbGlvJywgWydydW5Db21tYW5kJ10pKSwKCiAgLyoqCiAgICogQWgsIHRoZSByZWFjdGl2aXR5IGhhY2suCiAgICoKICAgKiBSZWZzIGluIFZ1ZSBhcmUgbm90IHJlYWN0aXZlLiBTbyB0aGVyZSBpcyBubyB3YXkgdG8gcmVhY3RpdmVseSBrbm93IHRoZQogICAqIHBvc2l0aW9uIG9mIHRoZSBjdXJzb3IgaW4gdGhlIGlucHV0IHJlZmVyZW5jZWQgYnkgYGNvbW1hbmRGaWVsZGAuIEV2ZW4gaWYKICAgKiBkZWZpbmVkIGFzIGEgY29tcHV0ZWQgcHJvcGVydHksIGNoYW5nZXMgbWFkZSB0byBpdCBhcmUgbm90IG9ic2VydmVkLgogICAqCiAgICogQnV0IHdlIGNhbiBtYWtlIHRoZSBjb21wdXRlZCBwcm9wZXJ0eSByZWFjdGl2ZSBieSByZWZlcnJpbmcgdG8gYQogICAqIGRpZmZlcmVudCByZWFjdGl2ZSBwcm9wZXJ0eSBpbnNpZGUgdGhlIGZ1bmN0aW9uLCB3aGljaCB3ZSB1cGRhdGUgZnJvbQogICAqIHRpbWUgdG8gdGltZS4gRm9yIGFueSBldmVudCBvY2N1cmluZyBvbiB0aGUgY29tbWFuZCBpbnB1dCBmaWVsZCB3aXRoIHRoZQogICAqIHBvdGVudGlhbCB0byB1cGRhdGUgdGhlIHZhbHVlIG9mIGBzZWxlY3Rpb25TdGFydGAsIHdlIHVwZGF0ZSB0aGUgZGF0YQogICAqIHZhcmlhYmxlIGByZWFjdGl2aXR5SGFja2Agb24gdGhlIGVsZW1lbnQuIFRoaXMgY2F1c2VzIHRoZSBpbnRlbmRlZAogICAqIHJlY29tcHV0YXRpb24gb2YgYGNhcmV0UG9zaXRpb25gLgogICAqCiAgICogUmVmZXJlbmNlczoKICAgKiAtIGh0dHBzOi8vbG9nYXJldG0uY29tL2Jsb2cvMjAxOS0xMC0xMS1mb3JjaW5nLXJlY29tcHV0YXRpb24tb2YtY29tcHV0ZWQtcHJvcGVydGllcy8KICAgKi8KICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5yZWFjdGl2aXR5SGFjaysrOwogIH0KfTs="},{"version":3,"sources":["Present.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,SAAA,UAAA,EAAA,QAAA,QAAA,MAAA;AAEA,OAAA,MAAA,MAAA,kBAAA;AAEA;;;;;AAIA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,cAAA,EAAA,CADA;AAEA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA;AACA,QAAA,KAAA,EAAA,CADA;AAEA,QAAA,MAAA,EAAA;AAFA;AAHA,KAAA;AAQA,GAdA;AAeA,EAAA,QAAA;AACA;;;;AAIA,IAAA,kBALA,gCAKA;AACA,aAAA;AACA,yCAAA,KAAA,OAAA,CAAA,MAAA;AADA,OAAA;AAGA,KATA;;AAUA;;;;AAIA,IAAA,eAdA,6BAcA;AACA,aAAA;AACA,4CAAA,KAAA,aAAA,GAAA,KAAA,OAAA,CAAA,MAAA;AADA,OAAA;AAGA,KAlBA;;AAoBA;;;;;AAKA,IAAA,aAzBA,2BAyBA;AACA,UAAA,CAAA,KAAA,cAAA,EAAA;AACA;AACA;;AACA,aAAA,KAAA,KAAA,CAAA,YAAA,CAAA,cAAA;AACA;AA9BA,KAgCA,QAAA,CAAA,WAAA,EAAA,CACA,aADA,EAEA,oBAFA,EAGA,cAHA,CAAA,CAhCA,CAfA;AAqDA,EAAA,KAAA,EAAA;AACA;;;;AAIA,IAAA,kBALA,gCAKA;AACA,WAAA,oBAAA;AACA,KAPA;;AAQA;;;;AAIA,IAAA,YAZA,0BAYA;AACA,WAAA,oBAAA;AACA;AAdA,GArDA;AAqEA,EAAA,OAAA;AACA;;;;AAIA,IAAA,SALA,uBAKA;AACA,WAAA,KAAA,CAAA,YAAA,CAAA,KAAA;AACA,WAAA,KAAA,CAAA,YAAA,CAAA,iBAAA,CACA,KAAA,OAAA,CAAA,MADA,EAEA,KAAA,OAAA,CAAA,MAFA;AAIA,WAAA,cAAA;AACA,KAZA;;AAaA;;;AAGA,IAAA,SAhBA,uBAgBA;AACA,WAAA,KAAA,CAAA,YAAA,CAAA,IAAA;AACA,KAlBA;;AAoBA;;;AAGA,IAAA,iBAvBA,+BAuBA;AACA,UAAA,KAAA,SAAA,CAAA,KAAA,KAAA,KAAA,kBAAA,CAAA,MAAA,EAAA;AACA;AACA;;AAEA,UAAA,KAAA,SAAA,CAAA,KAAA,KAAA,CAAA,EAAA;AACA,aAAA,SAAA,CAAA,MAAA,GAAA,KAAA,OAAA;AACA;;AACA,WAAA,SAAA,CAAA,KAAA;AACA,UAAA,KAAA,GAAA,KAAA,kBAAA,CAAA,MAAA,GAAA,KAAA,SAAA,CAAA,KAAA;AACA,WAAA,OAAA,GAAA,KAAA,kBAAA,CAAA,KAAA,EAAA,KAAA,CAAA,OAAA;AACA,KAlCA;;AAmCA;;;AAGA,IAAA,mBAtCA,iCAsCA;AACA,UAAA,KAAA,SAAA,CAAA,KAAA,KAAA,CAAA,EAAA;AACA;AACA;;AAEA,WAAA,SAAA,CAAA,KAAA;;AACA,UAAA,KAAA,SAAA,CAAA,KAAA,KAAA,CAAA,EAAA;AACA,aAAA,OAAA,GAAA,KAAA,SAAA,CAAA,MAAA;AACA,OAFA,MAEA;AACA,YAAA,KAAA,GAAA,KAAA,kBAAA,CAAA,MAAA,GAAA,KAAA,SAAA,CAAA,KAAA;AACA,aAAA,OAAA,GAAA,KAAA,kBAAA,CAAA,KAAA,EAAA,KAAA,CAAA,OAAA;AACA;AACA,KAlDA;;AAmDA;;;AAGA,IAAA,cAtDA,4BAsDA;AACA,WAAA,SAAA,GAAA;AACA,QAAA,KAAA,EAAA,CADA;AAEA,QAAA,MAAA,EAAA;AAFA,OAAA;AAIA,KA3DA;;AA6DA;;;;;AAKA,IAAA,mBAlEA,iCAkEA;AACA,UAAA,KAAA,OAAA,KAAA,EAAA,EAAA;AACA,aAAA,OAAA,GAAA,MAAA;AACA,OAFA,MAEA;AACA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,0BAAA,EAAA,KAAA,OAAA;AACA;AACA,KAzEA;;AA0EA;;;;AAIA,IAAA,aA9EA,2BA8EA;AACA,UAAA,KAAA,OAAA,CAAA,IAAA,EAAA,EAAA;AACA,aAAA,UAAA,CAAA;AACA,UAAA,OAAA,EAAA,KAAA,OAAA,CAAA,SAAA,CAAA,CAAA;AADA,SAAA;AAGA,aAAA,OAAA,GAAA,EAAA;AACA,aAAA,cAAA;AACA;AACA,KAtFA;;AAuFA;;;AAGA,IAAA,aA1FA,2BA0FA;AACA,WAAA,OAAA,GAAA,EAAA;AACA,WAAA,cAAA;AACA,KA7FA;;AA+FA;;;;AAIA,IAAA,YAnGA,0BAmGA;AACA,WAAA,cAAA;AACA,KArGA;;AAsGA;;;;AAIA,IAAA,YA1GA,0BA0GA;AACA,WAAA,cAAA;AACA,KA5GA;;AA6GA;;;;AAIA,IAAA,YAjHA,0BAiHA;AACA,WAAA,cAAA;AACA,KAnHA;;AAqHA;;;AAGA,IAAA,oBAxHA,kCAwHA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,QAAA,CAAA,IAAA,CAAA,cAAA,CAAA;AACA,UAAA,QAAA,EAAA,QADA;AAEA,UAAA,KAAA,EAAA;AAFA,SAAA;AAIA,OALA;AAMA;AA/HA,KAiIA,UAAA,CAAA,WAAA,EAAA,CACA,YADA,CAAA,CAjIA,CArEA;;AA0MA;;;;;;;;;;;;;;;;;AAiBA,EAAA,OA3NA,qBA2NA;AACA,SAAA,cAAA;AACA;AA7NA,CAAA","sourcesContent":["<template>\n  <div\n    class=\"present\"\n    @click=\"takeFocus\"\n    title=\"[Ctrl + Shift + C] Focus on the terminal input.\">\n    <label\n      class=\"prompt-label\"\n      for=\"command-field\">\n      <Prompt\n        :directory=\"currentNode.name\"\n        is-active/>\n    </label>\n    <input\n      v-shortkey.focus=\"['ctrl', 'shift', 'c']\"\n      v-model=\"command\"\n      class=\"command-field\"\n      id=\"command-field\"\n      :style=\"commandFieldStyles\"\n\n      type=\"text\"\n      autocomplete=\"off\"\n      autocapitalize=\"off\"\n      spellcheck=\"false\"\n\n      @keydown.escape.exact.prevent=\"loseFocus\"\n      @keydown.arrow-up.exact.prevent=\"traverseHistoryUp\"\n      @keydown.arrow-down.exact.prevent=\"traverseHistoryDown\"\n      @keydown.tab.exact.prevent=\"autocompleteCommand\"\n      @keydown.enter.exact.prevent=\"submitCommand\"\n      @keydown.c.shift.ctrl.exact.prevent=\"cancelCommand\"\n      @keyup.stop=\"processKeyup\"\n      @input.stop=\"processInput\"\n      @click.stop=\"processClick\"\n\n      ref=\"commandField\">\n    <span\n      class=\"faux-caret\"\n      :style=\"fauxCaretStyles\">&nbsp;</span>\n  </div>\n</template>\n\n<script>\n  import { mapActions, mapState } from 'vuex'\n\n  import Prompt from '../prompt/Prompt'\n\n  /**\n   * This command represents the present of the terminal, waiting for the user's\n   * input with a prompt.\n   */\n  export default {\n    name: 'Present',\n    components: {\n      Prompt\n    },\n    data () {\n      return {\n        reactivityHack: 0,\n        command: '',\n        traversal: {\n          index: 0,\n          backup: ''\n        }\n      }\n    },\n    computed: {\n      /**\n       * Get the styles to apply on the command field.\n       * @returns {Object} an mapping of CSS properties and values to apply on the element\n       */\n      commandFieldStyles () {\n        return {\n          '--characters-filled': `${this.command.length}ch`\n        }\n      },\n      /**\n       * Get the styles to apply on the faux caret.\n       * @returns {Object} an mapping of CSS properties and values to apply on the element\n       */\n      fauxCaretStyles () {\n        return {\n          '--characters-displaced': `${this.caretPosition - this.command.length}ch`\n        }\n      },\n\n      /**\n       * Get the position of the caret in the command input field. Since this is\n       * a non-reactive property, an ever changing data value `reactivityHack`\n       * is accessed inside.\n       */\n      caretPosition () {\n        if (!this.reactivityHack) {\n          return\n        }\n        return this.$refs.commandField.selectionStart\n      },\n\n      ...mapState('portfolio', [\n        'currentNode',\n        'interactionHistory',\n        'isProcessing'\n      ])\n    },\n    watch: {\n      /**\n       * When interaction history is changed, which essentially means a new\n       * interaction has been added, scroll to the bottom.\n       */\n      interactionHistory () {\n        this.scrollToCommandField()\n      },\n      /**\n       * When the processing state of the terminal is changed, either when\n       * processing starts or ends, scroll to the bottom.\n       */\n      isProcessing () {\n        this.scrollToCommandField()\n      }\n    },\n    methods: {\n      /**\n       * Grab focus on the command input field from the document. Also moves the\n       * caret to the end of the field.\n       */\n      takeFocus () {\n        this.$refs.commandField.focus()\n        this.$refs.commandField.setSelectionRange(\n          this.command.length,\n          this.command.length\n        )\n        this.reactivityHack++\n      },\n      /**\n       * Give away the focus from the command input field.\n       */\n      loseFocus () {\n        this.$refs.commandField.blur()\n      },\n\n      /**\n       * Access the history stack backwards.\n       */\n      traverseHistoryUp () {\n        if (this.traversal.index === this.interactionHistory.length) {\n          return\n        }\n\n        if (this.traversal.index === 0) {\n          this.traversal.backup = this.command\n        }\n        this.traversal.index++\n        const index = this.interactionHistory.length - this.traversal.index\n        this.command = this.interactionHistory[index].input.command\n      },\n      /**\n       * Access the history stack forwards.\n       */\n      traverseHistoryDown () {\n        if (this.traversal.index === 0) {\n          return\n        }\n\n        this.traversal.index--\n        if (this.traversal.index === 0) {\n          this.command = this.traversal.backup\n        } else {\n          const index = this.interactionHistory.length - this.traversal.index\n          this.command = this.interactionHistory[index].input.command\n        }\n      },\n      /**\n       * Reset history traversal in both directions.\n       */\n      resetTraversal () {\n        this.traversal = {\n          index: 0,\n          backup: ''\n        }\n      },\n\n      /**\n       * Autocomplete the command based on the text entered so far. It populates\n       * the command field if an unambiguous completion can be made and if not,\n       * displays a list of possible choices.\n       */\n      autocompleteCommand () {\n        if (this.command === '') {\n          this.command = 'help'\n        } else {\n          // TODO\n          console.log('Request to autocomplete:', this.command)\n        }\n      },\n      /**\n       * Submit the command for processing and clear the history field for the\n       * next input.\n       */\n      submitCommand () {\n        if (this.command.trim()) {\n          this.runCommand({\n            command: this.command.substring(0)\n          })\n          this.command = ''\n          this.resetTraversal()\n        }\n      },\n      /**\n       * Cancel the execution of the entered command and clear the input field.\n       */\n      cancelCommand () {\n        this.command = ''\n        this.resetTraversal()\n      },\n\n      /**\n       * Handle a keyup event.\n       * This involves updating the data variable `reactivityHack`.\n       */\n      processKeyup () {\n        this.reactivityHack++\n      },\n      /**\n       * Handle an input event.\n       * This involves updating the data variable `reactivityHack`.\n       */\n      processInput () {\n        this.reactivityHack++\n      },\n      /**\n       * Handle a click event.\n       * This involves updating the data variable `reactivityHack`.\n       */\n      processClick () {\n        this.reactivityHack++\n      },\n\n      /**\n       * Scroll to the bottom of the terminal to show the command field.\n       */\n      scrollToCommandField () {\n        this.$nextTick(() => {\n          document.body.scrollIntoView({\n            behavior: 'smooth',\n            block: 'end'\n          })\n        })\n      },\n\n      ...mapActions('portfolio', [\n        'runCommand'\n      ])\n    },\n    /**\n     * Ah, the reactivity hack.\n     *\n     * Refs in Vue are not reactive. So there is no way to reactively know the\n     * position of the cursor in the input referenced by `commandField`. Even if\n     * defined as a computed property, changes made to it are not observed.\n     *\n     * But we can make the computed property reactive by referring to a\n     * different reactive property inside the function, which we update from\n     * time to time. For any event occuring on the command input field with the\n     * potential to update the value of `selectionStart`, we update the data\n     * variable `reactivityHack` on the element. This causes the intended\n     * recomputation of `caretPosition`.\n     *\n     * References:\n     * - https://logaretm.com/blog/2019-10-11-forcing-recomputation-of-computed-properties/\n     */\n    mounted () {\n      this.reactivityHack++\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\" src=\"./Present.scss\"/>\n"],"sourceRoot":"src/components/portfolio/terminal/pieces/present"}]}