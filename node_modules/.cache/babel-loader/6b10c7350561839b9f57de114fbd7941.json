{"remainingRequest":"/Users/msfew/portfolio/node_modules/babel-loader/lib/index.js!/Users/msfew/portfolio/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/msfew/portfolio/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/msfew/portfolio/src/templates/portfolio/commands/Tree.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/msfew/portfolio/src/templates/portfolio/commands/Tree.vue","mtime":1615276825508},{"path":"/Users/msfew/portfolio/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/msfew/portfolio/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/msfew/portfolio/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/msfew/portfolio/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/msfew/portfolio/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/msfew/portfolio/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/msfew/portfolio/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/msfew/portfolio/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21zZmV3L3BvcnRmb2xpby9ub2RlX21vZHVsZXMvQHZ1ZS9iYWJlbC1wcmVzZXQtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IExpbmsgZnJvbSAnQC9jb21wb25lbnRzL3BvcnRmb2xpby9saW5rL0xpbmsnOwppbXBvcnQgYXJndW1lbnRlZCBmcm9tICdAL21peGlucy9hcmd1bWVudGVkJzsKLyoqCiAqIFRoaXMgY29tbWFuZCByZWN1cnNpdmVseSBsaXN0cyBhbGwgZGlyZWN0b3JpZXMgYW5kIHRoZWlyIGNvbnRlbnRzLgogKi8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVHJlZScsCiAgbWl4aW5zOiBbYXJndW1lbnRlZF0sCiAgY29tcG9uZW50czogewogICAgTGluazogTGluawogIH0sCiAgYXJnU3BlYzogewogICAgYXJnczogW3sKICAgICAgbmFtZTogJ2Rpcm5hbWUnLAogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICJkZWZhdWx0IjogJy4nCiAgICB9XSwKICAgIGt3YXJnczogW3sKICAgICAgbmFtZTogJy0tZmxhdHRlbicsCiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGFsaWFzZXM6IFsnLWYnXQogICAgfV0KICB9LAogIHByb3BzOiB7CiAgICAvKioKICAgICAqIF90aGUgYXJndW1lbnRzIHBhc3NlZCB0byB0aGUgY29tbWFuZF8KICAgICAqLwogICAgYXJndjogewogICAgICB0eXBlOiBBcnJheQogICAgfSwKCiAgICAvKioKICAgICAqIF90aGUgbm9kZSBiZWxvdyB3aGljaCB0aGUgdHJlZSBpcyB0byBiZSByZW5kZXJlZF8KICAgICAqLwogICAgcGFzc2VkTm9kZTogewogICAgICB0eXBlOiBPYmplY3QKICAgIH0sCgogICAgLyoqCiAgICAgKiBfdGhlIHJ1bGVzIHRvIGRyYXcgbGluZXMgYmVmb3JlIGV2ZXJ5IGVsZW1lbnQgb2YgdGhpcyB0cmVlXwogICAgICovCiAgICBsaW5lUnVsZXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgICJkZWZhdWx0IjogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHsKICAgIGxldmVsOiBmdW5jdGlvbiBsZXZlbCgpIHsKICAgICAgcmV0dXJuIHRoaXMubGluZVJ1bGVzLmxlbmd0aDsKICAgIH0sCgogICAgLyoqCiAgICAgKiBfdGhlIGRpcmVjdG9yeSB3aG9zZSBjb250ZW50cyBhcmUgdG8gYmUgc2hvd25fCiAgICAgKi8KICAgIGRpcjogZnVuY3Rpb24gZGlyKCkgewogICAgICBpZiAodGhpcy5wYXNzZWROb2RlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMucGFzc2VkTm9kZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5ub2RlTG9jYXRlZEF0KHRoaXMuYXJncy5kaXJuYW1lLnJlcGxhY2UoL1wvJC8sICcnKSk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqCiAgICAgKiBfd2hldGhlciBhIG5vZGUgbWF0Y2hpbmcgdGhlIHBhdGggd2FzIGZvdW5kXwogICAgICovCiAgICBpc0ZvdW5kOiBmdW5jdGlvbiBpc0ZvdW5kKCkgewogICAgICByZXR1cm4gdGhpcy5ub2RlOwogICAgfSwKCiAgICAvKioKICAgICAqIF93aGV0aGVyIHRoaXMgbm9kZSBpcyB0aGUgbGFzdCBjaGlsZCBvZiBpdHMgcGFyZW50XwogICAgICovCiAgICBpc0xhc3RDaGlsZDogZnVuY3Rpb24gaXNMYXN0Q2hpbGQoKSB7CiAgICAgIGlmICh0aGlzLmxldmVsID09PSAwKSB7CiAgICAgICAgLy8gUm9vdCBub2RlCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHNpYmxpbmdzID0gdGhpcy5ub2RlLnBhcmVudC5jaGlsZHJlbjsKICAgICAgICByZXR1cm4gc2libGluZ3MuaW5kZXhPZih0aGlzLm5vZGUpID09PSBzaWJsaW5ncy5sZW5ndGggLSAxOwogICAgICB9CiAgICB9CiAgfSwgbWFwU3RhdGUoJ3BvcnRmb2xpbycsIFsnY3VycmVudE5vZGUnXSkpLCBtYXBHZXR0ZXJzKCdwb3J0Zm9saW8nLCBbJ25vZGVMb2NhdGVkQXQnXSkpLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLm5vZGUgPSB0aGlzLmRpcjsKICB9Cn07"},{"version":3,"sources":["Tree.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,SAAA,UAAA,EAAA,QAAA,QAAA,MAAA;AAEA,OAAA,IAAA,MAAA,kCAAA;AAEA,OAAA,UAAA,MAAA,qBAAA;AAEA;;;;AAGA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,MAAA,EAAA,CACA,UADA,CAFA;AAKA,EAAA,UAAA,EAAA;AACA,IAAA,IAAA,EAAA;AADA,GALA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,IAAA,EAAA,CACA;AACA,MAAA,IAAA,EAAA,SADA;AAEA,MAAA,IAAA,EAAA,MAFA;AAGA,iBAAA;AAHA,KADA,CADA;AAQA,IAAA,MAAA,EAAA,CACA;AACA,MAAA,IAAA,EAAA,WADA;AAEA,MAAA,IAAA,EAAA,OAFA;AAGA,MAAA,OAAA,EAAA,CACA,IADA;AAHA,KADA;AARA,GARA;AA0BA,EAAA,KAAA,EAAA;AACA;;;AAGA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA,KAJA;;AAOA;;;AAGA,IAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA,KAVA;;AAaA;;;AAGA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,iBAAA;AAAA,eAAA,EAAA;AAAA;AAFA;AAhBA,GA1BA;AA+CA,EAAA,QAAA;AACA,IAAA,KADA,mBACA;AACA,aAAA,KAAA,SAAA,CAAA,MAAA;AACA,KAHA;;AAIA;;;AAGA,IAAA,GAPA,iBAOA;AACA,UAAA,KAAA,UAAA,EAAA;AACA,eAAA,KAAA,UAAA;AACA,OAFA,MAEA;AACA,eAAA,KAAA,aAAA,CAAA,KAAA,IAAA,CAAA,OAAA,CAAA,OAAA,CAAA,KAAA,EAAA,EAAA,CAAA,CAAA;AACA;AACA,KAbA;;AAcA;;;AAGA,IAAA,OAjBA,qBAiBA;AACA,aAAA,KAAA,IAAA;AACA,KAnBA;;AAoBA;;;AAGA,IAAA,WAvBA,yBAuBA;AACA,UAAA,KAAA,KAAA,KAAA,CAAA,EAAA;AAAA;AACA,eAAA,IAAA;AACA,OAFA,MAEA;AACA,YAAA,QAAA,GAAA,KAAA,IAAA,CAAA,MAAA,CAAA,QAAA;AACA,eAAA,QAAA,CAAA,OAAA,CAAA,KAAA,IAAA,MAAA,QAAA,CAAA,MAAA,GAAA,CAAA;AACA;AACA;AA9BA,KAgCA,QAAA,CAAA,WAAA,EAAA,CACA,aADA,CAAA,CAhCA,GAmCA,UAAA,CAAA,WAAA,EAAA,CACA,eADA,CAAA,CAnCA,CA/CA;AAsFA,EAAA,OAtFA,qBAsFA;AACA,SAAA,IAAA,GAAA,KAAA,GAAA;AACA;AAxFA,CAAA","sourcesContent":["<template>\n  <div class=\"tree\">\n    <template v-if=\"isFound\">\n      <template v-if=\"!args.flatten\">\n        <span\n          :class=\"rule ? 'extra-space' : 'space'\"\n          v-for=\"(rule, index) in lineRules\"\n          :key=\"index\">{{ rule ? '': '│'}}</span>{{ isLastChild ? '└' : '├'}}──&nbsp;\n      </template>\n\n      <template v-if=\"!(args.flatten && node.isFolder())\">\n        <template v-if=\"args.flatten\">─&nbsp;</template>\n        <Link :node=\"node\"/>\n      </template>\n\n      <tree\n        v-for=\"child in node.children\"\n        :argv=\"argv\"\n        :passed-node=\"child\"\n        :line-rules=\"[...lineRules, isLastChild]\"\n        :key=\"child.name\"/>\n    </template>\n    <template v-else>\n      <strong>{{ args.dirname }}</strong> is not a valid directory.\n    </template>\n  </div>\n</template>\n\n<script>\n  import { mapGetters, mapState } from 'vuex'\n\n  import Link from '@/components/portfolio/link/Link'\n\n  import argumented from '@/mixins/argumented'\n\n  /**\n   * This command recursively lists all directories and their contents.\n   */\n  export default {\n    name: 'Tree',\n    mixins: [\n      argumented\n    ],\n    components: {\n      Link\n    },\n    argSpec: {\n      args: [\n        {\n          name: 'dirname',\n          type: String,\n          default: '.'\n        }\n      ],\n      kwargs: [\n        {\n          name: '--flatten',\n          type: Boolean,\n          aliases: [\n            '-f'\n          ]\n        }\n      ]\n    },\n    props: {\n      /**\n       * _the arguments passed to the command_\n       */\n      argv: {\n        type: Array\n      },\n      /**\n       * _the node below which the tree is to be rendered_\n       */\n      passedNode: {\n        type: Object\n      },\n      /**\n       * _the rules to draw lines before every element of this tree_\n       */\n      lineRules: {\n        type: Array,\n        default: () => []\n      }\n    },\n    computed: {\n      level () {\n        return this.lineRules.length\n      },\n      /**\n       * _the directory whose contents are to be shown_\n       */\n      dir () {\n        if (this.passedNode) {\n          return this.passedNode\n        } else {\n          return this.nodeLocatedAt(this.args.dirname.replace(/\\/$/, ''))\n        }\n      },\n      /**\n       * _whether a node matching the path was found_\n       */\n      isFound () {\n        return this.node\n      },\n      /**\n       * _whether this node is the last child of its parent_\n       */\n      isLastChild () {\n        if (this.level === 0) { // Root node\n          return true\n        } else {\n          const siblings = this.node.parent.children\n          return siblings.indexOf(this.node) === siblings.length - 1\n        }\n      },\n\n      ...mapState('portfolio', [\n        'currentNode'\n      ]),\n      ...mapGetters('portfolio', [\n        'nodeLocatedAt'\n      ])\n    },\n    created () {\n      this.node = this.dir\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\">\n  .tree {\n    .space {\n      margin-right: 3ch;\n    }\n\n    .extra-space {\n      margin-right: 4ch;\n    }\n  }\n</style>\n"],"sourceRoot":"src/templates/portfolio/commands"}]}